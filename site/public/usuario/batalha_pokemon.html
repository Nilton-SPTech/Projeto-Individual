<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokemon champion’s</title>
    <link rel="shortcut icon" href="https://cdn.ome.lt/kjnDZySYUJ7cxwLtDxzbPBj8PQU=/770x0/smart/uploads/conteudo/fotos/pokeball.png" type="image/x-icon">


    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/usuario/batalha_pokemon.css">

</head>
<body>
    
    <div class="div_batalha">
        <div class="div_pokemon_adversario">

            <div class="div_informacoes_pokemon_adversario">
                <div class="div_nome_level">
                    <span class="s_nome" id="s_nome_adversario"></span>
                    <span class="s_level" id="s_level_adversario">Lv</span>
                </div>
                <div class="div_hp">
                    <span>HP</span>
                    <div class="div_barra_hp">
                        <div id="s_barra"></div>
                    </div>
                </div>
            </div>


            <!-- IMAGEM DO POKEMON -->
            <div class="div_pokemon_adversario_imagem">
                <img class="aparecer_pokemon_adversario" id="img_pokemon_adversario">
            </div>

        </div>

        <div class="div_pokemon_jogador">

            <!-- IMAGEM DO POKEMON -->
            <div class="div_pokemon_jogador_imagem">
                <img class="aparecer_pokemon_jogador" id="img_pokemon_jogador">

                <div class="div_coracao" id="div_coracao">
                    <img class="img_coracao coracao1" src="../assets/img_usuario/coracao.gif">
                    <img class="img_coracao coracao2" src="../assets/img_usuario/coracao.gif">
                    <img class="img_coracao coracao3" src="../assets/img_usuario/coracao.gif">
                </div>

                <div class="div_escudo" id="div_escudo">
                    <img class="escudo1" src="../assets/img_usuario/escudo.png">
                    <img class="escudo2" src="../assets/img_usuario/escudo.png">
                    <img class="escudo3" src="../assets/img_usuario/escudo.png">
                </div>
            </div>

            <div class="div_informacoes_pokemon_jogador">
                <div class="div_nome_level">
                    <span class="s_nome" id="s_nome_jogador"></span>
                    <span class="s_level" id="s_level">Lv</span>
                </div>
                <div class="div_hp">
                    <span>HP</span>
                    <div class="div_barra_hp">
                        <div id="s_barra"></div>
                    </div>
                </div>
                <div class="div_pontos_vida">
                    <span id="s_vida_atual">0</span>
                    <span>/</span>
                    <span id="s_vida_total">0</span>

                </div>
            </div>
        </div>


    </div>

    <div class="div_caixa_dialogo">

        <div class="div_dialogo_opcao">


            <div id="div_opcao_texto" class="div_opcao_texto" >
                <div>
                    <span id="s_texto"></span> 
                </div>
            </div>

            <div id="div_opcao_ataque" class="div_opcao_ataque" style="display: none;">
                <div class="div_ataque_encima">
                    <span 
                        onmouseover="descricao_ataque(1)"
                        onclick="atacar(1)"
                        id="s_ataque_fraco"
                    >ATAQUE FRACO</span>
                    <span 
                        onmouseover="descricao_ataque(2)"
                        onclick="curar()"
                    >CURAR</span>
                </div>

                <div class="div_ataque_embaixo">
                    <span 
                        onmouseover="descricao_ataque(3)"
                        onclick="defender()"
                    >DEFENDER</span>
                    <span 
                        onmouseover="descricao_ataque(4)"
                        onclick="atacar(2)"
                        id="s_ataque_forte"
                    >ATAQUE FORTE</span>
                </div>
            </div>

            <div class="div_opcao_navegacao">

                <div id="div_opcao_escolha" class="div_opcao_escolha" >
                    <div class="div_cima">
                        <span onclick="batalhar()">LUTAR</span>
                        <span class="s_passar_turno" onclick="passar_turno()">PASSAR TURNO</span>
                    </div>
                    <div class="div_baixo">
                        <span onclick="window.location = './index.html'">FUGIR</span>
                    </div>
                </div>

                <div id="div_descricao_ataque" class="div_descricao_ataque" style="display: none;">
                    <div class="div_cima">
                        <span class="s_pp">PP</span>
                        <div id="div_valores_pp">
                            <span class="s_pp_atual" id="s_pp_atual"></span>
                            <span class="s_pp_total" id="s_pp_total"></span>
                        </div>
                    </div>

                    <div class="div_baixo">
                        <span class="s_tipo">TIPO/</span>
                        <span class="s_ataque_tipo" id="s_ataque_tipo"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="div_fundo_preto" id="div_fundo_preto" style="display: none; "></div>
    <div class="div_fim_jogo" id="div_fim_jogo" style="display:none;">
        <div class="div_topo_placar">
            <h2>VOCÊ <span class="s_placar" id="s_placar">GANHOU</span></h2>
        </div>
        <div class="div_meio_placar">
            <div>
                <div class="div_pokemon_placar">
                    <img src="" id="img_pokemon_plcar">
                </div>
                <div class="div_informacao_nivel">
                    <h3>Level: <span id="s_level_fim"></span></h3>
                    <h3>XP: <span id="s_xp_fim"></span></h3>
                </div>
            </div>
            <div class="div_informacoes_jogo">
                <h3>Tempo da partida: <span id="s_minutos">13</span> minutos e <span id="s_segundos">15</span> segundos</h3>
                <h3>Pontos ganhos: <span id="s_ponots_ganhos">100</span></h3>
                <h3>Quantidade de XP ganho: <span id="s_xp_ganho"></span></h3>

                <h2>Dificuldade do combate: <span id="s_dificuldade">Fácil</span></h2>

                <div class="div_button">
                    <button onclick="window.location = './batalha_pokemon.html'">Nova partida</button>
                    <button onclick="window.location = './index.html'">Trainer Card</button>
                </div>
            </div>
            
        </div>


    </div>
</body>
</html>

<script>

    // FUNÇÃO PARA TIRAR A ANIMATION DO POKEMON 
    setTimeout(() => {
        img_pokemon_adversario.classList.remove("aparecer_pokemon_adversario")
        img_pokemon_jogador.classList.remove("aparecer_pokemon_jogador")
    }, 4500);


    // FUNÇÃO PARA GERAR UM POKEMON ADVERSARIO DE FORMA ALEATORIA 
    var adversario = [ 
        {nome: "Dratini",  img: 'dratini.png', ataque: "mordida", dificuldade: "Fácil"},
        {nome: "Ekans",  img: 'ekans.png', ataque: "mordida", dificuldade: "Fácil"},
        {nome: "Exeggcute",  img: 'exeggcute.png', ataque: "chicote de vinha", dificuldade: "Fácil"},
        {nome: "Gastly",  img: 'gastly.png', ataque: "lambida", dificuldade: "Fácil"},
        {nome: "koffing",  img: 'koffing.png', ataque: "encontrão", dificuldade: "Fácil"},
        {nome: "zubat",  img: 'zubat.png', ataque: "mordida", dificuldade: "Fácil"}
    ]

    gerar_adversario()
    var adversario_atual
    var dificuldade 
    function gerar_adversario(){
        var pocisao = parseInt(Math.random() * 6)

        var pokemon = adversario[pocisao]
        img_pokemon_adversario.src = `../assets/pokemon_adversario/${pokemon.img}`
        s_nome_adversario.innerHTML = (pokemon.nome).toUpperCase()
        dificuldade = pokemon.dificuldade
        adversario_atual = pokemon
    }

    // JSON QUE CONTEM A DECRIÇÃO DO ATAQUE
    var ataque_fraco = 
    {
        pp_atual: 15, 
        pp_total: 15, 
        tipo: 'eletrico', 
        dano: 10,
        critico: 45
    }
    var ataque_forte = 
    {
        pp_atual: 5, 
        pp_total: 5, 
        tipo: 'eletrico', 
        dano: 25,
        critico: 15
    }
    var cura = 
    {
        pp_atual: 5, 
        pp_total: 5, 
        tipo: 'cura', 
    }
    var defesa = 
    {
        pp_atual: 10, 
        pp_total: 10, 
        tipo: 'defesa', 
    }
    
    function descricao_ataque(id){

        var tipo = ''
        var pp_atual = 0
        var pp_total = 0

        var cor = ''
        var quantidade = 0 
        switch (id) {
            case 1:
                tipo = ataque_fraco.tipo
                pp_atual = ataque_fraco.pp_atual 
                pp_total = ataque_fraco.pp_total

                quantidade = 30
            break;

            case 2:
                tipo = cura.tipo
                pp_atual = cura.pp_atual 
                pp_total = cura.pp_total

                quantidade = 40
            break;

            case 3:
                tipo = defesa.tipo
                pp_atual = defesa.pp_atual 
                pp_total = defesa.pp_total

                quantidade = 50
            break;
        
            default:
                tipo = ataque_forte.tipo
                pp_atual = ataque_forte.pp_atual 
                pp_total = ataque_forte.pp_total

                quantidade = 40
                break;
            }
            
        var porcentagem = (pp_total / 100) * quantidade
        if(pp_atual <= porcentagem){
            cor = "#ff3c01"
        }
        s_pp_atual.innerHTML = pp_atual
        s_pp_total.innerHTML = `/${pp_total}`
        s_ataque_tipo.innerHTML = tipo.toUpperCase()
        div_valores_pp.style.color = cor
    }

    function batalhar(){
        div_opcao_texto.style.display = "none"
        div_opcao_ataque.style.display = "flex"
        div_opcao_escolha.style.display = "none"
        div_descricao_ataque.style.display = "block"
    }

    function passar_turno(){
        texto(5)
        div_opcao_escolha.style.display = "none"
        setTimeout(() => {
                    atacar_adversario()
        }, 4600);
    }
    
    
    // FUNÇÕES DOS ATAQUES DOS POKEMONS
    function curar(){  
        var cura_atual = cura.pp_atual
        if( cura_atual > 0){
            cura.pp_atual -= 1
            descricao_ataque(2)

            pokemon_texto = pokemon_atual

            cura_texto = parseInt(5 + Math.random() * 15)

            adicionar_vida(-cura_texto, 1)
            frases[2] = `${pokemon_texto} curou ${cura_texto} pontos de vida.`
            texto(2)
            div_coracao.style.display = 'flex'


            setTimeout(() => {
                div_coracao.style.display = 'none'
            }, 2300);

            setTimeout(() => {

                    atacar_adversario()
            }, 4600);
        }
    }

    function defender(){
        var defesa_atual =  defesa.pp_atual
        if(defesa_atual > 0){

            div_escudo.style.display = 'flex'

            setTimeout(() => {
                div_escudo.style.display = 'none'
            }, 5000);


            defesa.pp_atual -= 1
            descricao_ataque(3)

            var defender_ataque = parseInt(Math.random() * 100)

            var pokemon_texto = pokemon_atual
            var adversario_texto = adversario_atual.nome

            frases[1] = `${pokemon_texto} está em modo de defesa, ${adversario_texto} precisa entrar na defesa para dar dano.`
            texto(1)
            setTimeout(() =>{
                if(defender_ataque%2 == 0){
                    ataque_texto = adversario_atual.ataque
                    frases[4] = `${pokemon_texto} defendeu do ataque ${ataque_texto}.`
                    texto(4)

                    setTimeout(() => {
                        div_opcao_escolha.style.display = "block"
                    }, 3000);
                }
                else{
                    setTimeout(() => {
                        atacar_adversario()
                    }, 4600);                
                }
            }, 5500)
        }
    }

    function atacar(ataque){
        var ataque_atual

        if(ataque == 1){
            ataque_atual = ataque_fraco.pp_atual

            if(ataque_atual > 0){
                ataque_fraco.pp_atual -= 1
                descricao_ataque(1)
                var validar_critico = critico(ataque_forte.critico)

                if(!validar_critico){
                    tirar_vida(15, 0)
                    
                    //PASSANDO A FUNÇÃO QUE MOSTRA O TEXTO DO DANO NA TELA
                    pokemon_texto = pokemon_atual
                    ataque_texto = ataque_fraco_nome
    
                    // ATUALIZANDO O VETOR
                    frases[0] = `${pokemon_texto} atacou com ${ataque_texto}.`
                    texto(0)
                }
                else{
                    tirar_vida(35, 0)
                    
                    //PASSANDO A FUNÇÃO QUE MOSTRA O TEXTO DO DANO NA TELA
                    pokemon_texto = pokemon_atual
                    ataque_texto = ataque_fraco_nome
    
                    // ATUALIZANDO O VETOR
                    frases[3] = `${pokemon_texto} acaba de acertar um ataque crítico com ${ataque_texto}!`
                    texto(3)
                }

                setTimeout(() => {
                    atacar_adversario()
                }, 4600);
            }
        }
        else{
            ataque_atual = ataque_forte.pp_atual
            if(ataque_atual > 0){
                ataque_forte.pp_atual -= 1
                descricao_ataque(4)
                
                var validar_critico = critico(ataque_forte.critico)

                if(!validar_critico){
                    tirar_vida(25, 0)
                    
                    //PASSANDO A FUNÇÃO QUE MOSTRA O TEXTO DO DANO NA TELA
                    pokemon_texto = pokemon_atual
                    ataque_texto = ataque_forte_nome
    
                    // ATUALIZANDO O VETOR
                    frases[0] = `${pokemon_texto} atacou com ${ataque_texto}.`
                    texto(0)
                }
                else{
                    tirar_vida(40, 0)
                    
                    //PASSANDO A FUNÇÃO QUE MOSTRA O TEXTO DO DANO NA TELA
                    pokemon_texto = pokemon_atual
                    ataque_texto = ataque_forte_nome
    
                    // ATUALIZANDO O VETOR
                    frases[3] = `${pokemon_texto} acaba de acertar um ataque crítico com ${ataque_texto}!`
                    texto(3)
                }

                setTimeout(() => {
                    atacar_adversario()
                }, 4600);
            }
        }
    }

    function atacar_adversario(){

        if(vida_atual_adversario > 0){
            var dano = parseInt(1 + Math.random() * 25) 
            tirar_vida(dano, 1)
    
            //PASSANDO A FUNÇÃO QUE MOSTRA O TEXTO DO DANO NA TELA
            pokemon_texto = adversario_atual.nome
            ataque_texto = adversario_atual.ataque
    
            // ATUALIZANDO O VETOR
            frases[0] = `${pokemon_texto} atacou com ${ataque_texto}.`
            texto(0)
    
            setTimeout(() => {
                div_opcao_escolha.style.display = "block"
            }, 3000);
        }
    }

    function critico(porcentagem){
        var porcentagem_critico = parseInt(1 + Math.random() * 256)
        var num = parseInt((porcentagem / 100) * 100)
        var variacao = (num * 10) - porcentagem_critico 

        if(porcentagem_critico < variacao && porcentagem_critico > num){
            return true
        }
        else{
            return false
        }

    }

    // FUNÇÃO QUE TIRA A VIDA DO JOGADAOR
    //VARIAVEL DO TAMANHO DA BARRA E A PORCENTAGEM DO WIDTH
    var vida_adversario = 100
    var vida_atual_adversario = vida_adversario
    var porcentagem_barra = 0
    var porcentagem_barra_adversario = 0

    var barra_vida = 0
    var barra_vida_adversario = 0
    
    var vida 
    function tirar_vida(dano, recebe){
        
        if(recebe == 1){
            dano = dano + (levelPokemonAdversario - 1)
            vida_atual = vida_atual - dano
            vida = vida_atual
            var porcentagem = (dano / vida_total) * 100
            console.log(vida_atual)

            porcentagem_barra += porcentagem
            var porcentage_barra_vida = 100 - porcentagem_barra
            barra_vida = vida > 0 ? porcentage_barra_vida : 0
            s_barra[recebe].style.width = `${barra_vida}%`
                        
            s_vida_atual.innerHTML = vida_atual
            if(vida_atual < 0 ){
                s_vida_atual.innerHTML = 0
            }
            img_pokemon_adversario.classList.add("ataque_pokemon_adversario")
            img_pokemon_jogador.classList.add("tomando_dano")

            setTimeout(() => {
                img_pokemon_adversario.classList.remove("ataque_pokemon_adversario")
                img_pokemon_jogador.classList.remove("tomando_dano")
            }, 2000);
        }
        else{
            dano = dano + levelPokemonJogador

            vida_atual_adversario = vida_atual_adversario - dano
            vida = vida_atual_adversario
            var porcentagem = (dano / vida_adversario) * 100
            console.log(vida_atual_adversario)

            porcentagem_barra_adversario += porcentagem
            var porcentage_barra_vida_adversario = 100 - porcentagem_barra_adversario
            barra_vida_adversario = vida > 0 ? porcentage_barra_vida_adversario : 0
            s_barra[recebe].style.width = `${barra_vida_adversario}%`

            img_pokemon_adversario.classList.add("tomando_dano_adversario")
            img_pokemon_jogador.classList.add("ataque_pokemon_jogador")

            setTimeout(() => {
                img_pokemon_adversario.classList.remove("tomando_dano_adversario")
                img_pokemon_jogador.classList.remove("ataque_pokemon_jogador")
            }, 2000);
        }

        validar_vida()
    }

    var xp_ganho = 0
    function validar_vida(){

        var adversario_ganhou = vida_atual <= 0
        var jogador_ganhou = vida_atual_adversario <= 0
        if( adversario_ganhou|| jogador_ganhou){
            setTimeout(() => {
                div_fundo_preto.style.display = "flex"
                div_fim_jogo.style.display = "flex"
    
                s_level_fim.innerHTML = levelPokemonJogador
                img_pokemon_plcar.src = `../assets/gif/${gif_pokemon}`
                s_dificuldade.innerHTML = dificuldade
        
                if(jogador_ganhou){
                    s_placar.innerHTML = "GANHOU"
    
                    xp_ganho = (6 + Math.random() * 12) * levelPokemonJogador
                    pontos_ganho = (5 + Math.random() * 10) * levelPokemonAdversario
                }
                if(adversario_ganhou){
                    s_placar.innerHTML = "PERDEU"
                    s_placar.style.color = "#B21E1E"
    
                    xp_ganho = (1 + Math.random() * 5) * levelPokemonJogador
                    pontos_ganho = (1 + Math.random() * 5) * levelPokemonAdversario
                }

                s_ponots_ganhos.innerHTML = parseInt(pontos_ganho)
                s_xp_ganho.innerHTML = parseInt(xp_ganho)
                clearInterval(tempo)

                s_minutos.innerHTML = minuto
                s_segundos.innerHTML = segundo

            

                var i = 1
                var mostrar_xp = setInterval(() => {
                    s_xp_fim.innerHTML = xp_total + i
                    i++
                    if(i > xp_ganho){
                        clearInterval(mostrar_xp)
                    }
                }, 60);
                xp_total += parseInt(xp_ganho)
                somar_xp(parseInt(xp_ganho), parseInt(pontos_ganho))
                
                if(xp_total > (levelPokemonJogador * 100)){
                    subir_level()
                }
            }, 2500);
        }
    }

    function subir_level(){
        fetch("/pokemons/subir_level", {
            method: "POST", 
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({
                usuarioServer: sessionStorage.ID_USUARIO, 
                pokemonServer: sessionStorage.ID_POKEMON
            })
        })
        .then(function (resposta){    
            if(resposta.ok){
                console.log("Level upado")
            }
        })
        .catch(function(resposta){
            console.log(`#ERRO: ${resposta}`)
        })
    }

    function somar_xp(xp_ganho, pontos_ganho){
        fetch("/pokemons/somar_xp", {
            method: "POST", 
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({
                usuarioServer: sessionStorage.ID_USUARIO, 
                pokemonServer: sessionStorage.ID_POKEMON, 
                xpServer: xp_total
            })
        })
        .then(function (resposta){    
            if(resposta.ok){
                console.log("Experiencia upada")
            }
        })
        .catch(function(resposta){
            console.log(`#ERRO: ${resposta}`)
        })

        fetch("/usuarios/somar_pontos", {
            method: "POST", 
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({
                usuarioServer: sessionStorage.ID_USUARIO, 
                pontosServer: pontos_ganho
            })
        })
        .then(function (resposta){    
            if(resposta.ok){
                console.log("Experiencia upada")
            }
        })
        .catch(function(resposta){
            console.log(`#ERRO: ${resposta}`)
        })




    }

    function adicionar_vida(cura, recebe){
        if(recebe == 1){

            if(vida_atual < vida_total){
                vida_atual = vida_atual - cura
                vida = vida_atual
                var porcentagem = (cura / vida_total) * 100
    
                porcentagem_barra += porcentagem
                var porcentage_barra_vida = 100 - porcentagem_barra
                barra_vida = vida > 0 ? porcentage_barra_vida : 0
                
                s_barra[recebe].style.width = `${barra_vida}%`

                var tamanho = (s_barra[recebe].style.width).replaceAll("%", "")
                tamanho = Number(tamanho)
                
                if(tamanho > 100){
                    var conta_barra = tamanho - 100
                    s_barra[recebe].style.width = `${tamanho - conta_barra}%`
                    console.log(conta_barra)
                }
                
                s_vida_atual.innerHTML = vida_atual
                if(vida_atual > vida_total ){
                    s_vida_atual.innerHTML = vida_total
                }
            }
        }
        else{
            vida_atual_adversario = vida_atual_adversario - cura
            vida = vida_atual_adversario
            var porcentagem = (cura / vida_adversario) * 100
            console.log(vida_atual_adversario)

            porcentagem_barra_adversario += porcentagem
            var porcentage_barra_vida_adversario = 100 - porcentagem_barra_adversario
            barra_vida_adversario = vida > 0 ? porcentage_barra_vida_adversario : 0
            s_barra[recebe].style.width = `${barra_vida_adversario}%`
        }
    }
</script>


<script>

    pegar_pokemon()
    function pegar_pokemon(){

        var usuarioVar = sessionStorage.ID_USUARIO
        var pokemonVar = sessionStorage.ID_POKEMON

        fetch("/pokemons/listar_pokemon_batalha", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                usuarioServer: usuarioVar,
                pokemonServer: pokemonVar
            })
        }).then(function (resposta) {
            if (resposta.ok) {
                
                resposta.json().then(json => {
                    listar_pokemon(json)
                    console.log(json);
            
                });
            } else {
                console.log("Houve um erro ao tentar pegar o pokemon");
            }
        }).catch(function (erro) {
            console.log(erro);
        })
    }

    var pokemon_atual 
    var ataque_fraco_nome 
    var ataque_forte_nome
    var levelPokemonJogador = 0 
    var levelPokemonAdversario = 0 
    var xp_total = 0
    var gif_pokemon = ''
    function listar_pokemon(dado){

        img_pokemon_jogador.src = `../assets/icon/${dado[0].enderecoImagemCosta}`

        if(dado[0].idPokemon == 5 || dado[0].idPokemon == 6){
            img_pokemon_jogador.style.width = "300px"
            img_pokemon_jogador.style.height = "400px"
        }
        pokemon_atual = (dado[0].nome).toUpperCase()
        s_nome_jogador.innerHTML = pokemon_atual

        ataque_fraco_nome = (dado[0].ataqueFraco).toUpperCase()
        ataque_forte_nome = (dado[0].ataqueForte).toUpperCase()
        s_ataque_fraco.innerHTML = ataque_fraco_nome
        s_ataque_forte.innerHTML = ataque_forte_nome

        vida_atual = dado[0].vidaTotal
        vida_total = dado[0].vidaTotal

        s_vida_total.innerHTML = vida_total
        s_vida_atual.innerHTML = vida_atual

        ataque_fraco.tipo = dado[0].tipoPrimario
        ataque_forte.tipo = dado[0].tipoPrimario

        s_level.innerHTML = `Lv${dado[0].levelPokemon}`
        levelPokemonJogador = dado[0].levelPokemon

        xp_total = dado[0].experienciaPokemon
        gif_pokemon = dado[0].enderecoGif

        levelPokemonAdversario = parseInt((levelPokemonJogador - 3 ) + Math.random() * (levelPokemonJogador))

        if(levelPokemonAdversario < 1){
            levelPokemonAdversario = 1
        }
        
        s_level_adversario.innerHTML = `Lv${levelPokemonAdversario}`


        vida_adversario = 100 + ((levelPokemonAdversario / 100) *500)

        console.log("Vida do adversario", vida_adversario)
        validar_vida()

    }


    var minuto = 0
    var segundo = 0
    var tempo = setInterval(() => {
        segundo++
        if(segundo == 60){
            minuto++
            segundo = 0
        }
    }, 1000);

</script>


<script>

    var pokemon_texto = ''
    var adversario_texto = ''
    var cura_texto = 0
    var ataque_texto = ''

    // PRECISO INSERIR AS POCISÕES E OS ELEMENTOS DENTRO DO VETOR NOVAMENTE  
    var frases = [
        //VETOR 0 É PARA INFORMAR O ATAQUE NORMAL
        ``, 

        //VETOR 1 É PARA INFORMAR A DEFESA 
        ``,

        // VETOR 2 É PARA INFORMAR A CURA 
        ``,

        //VETOR 3 É PARA INFORMAR O CRÍTICO 
        ``,

        //VETOR 4 É PARA INFORMAR SE ELE SE DESVIOU DO ATAQUE
        ``,

        //VETOR 5 É PARA INFORMAR QUANDO O USUARIO PASSA O TURNO 
        `HMMMM, você passou seu turno!!!`, 
    ]

    function texto(pocisao){
        
        s_texto.innerHTML = ''

        div_opcao_texto.style.display = "block"
        div_opcao_ataque.style.display = "none"
        div_descricao_ataque.style.display = "none"

        var i = 0
        var palavra = setInterval(() => {
            var frase_atual = frases[pocisao]
            s_texto.innerHTML += frase_atual[i].toUpperCase()
            i++

            if(i == frase_atual.length){
                clearInterval(palavra)
            }
        }, 60)
    }
</script>